<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Json Example</title>

		<script src="app.js"></script>
	</head>
	<body>
		<div id="emp"></div>
		<button onclick="load()">load</button>

		<script>
			const load = () => {
				const url = "http://date.jsontest.com/";
				var request = new XMLHttpRequest();
				request.onreadystatechange = function () {
					if (this.readyState == 4 && this.status == 200) {
						var obj = JSON.parse(request.responseText);
						jsonStuff(obj);
						document.getElementById("Name").innerHTML = obj.company[0].name;
						document.getElementById("time").innerHTML = obj.company[0].age;
					}
				};
				request.open("GET", "staff.json", true);
				request.send();
			};
			const jsonStuff = (obj) => {
				for (let i = 0; i < obj.company.length; i++) {
					const element = obj.company[i];
					document.getElementById("emp").innerHTML += `Name: ${element.name}<br />
																Age: ${element.age}<br /><br />`;
				}
			};
		</script>
	</body>
</html>
